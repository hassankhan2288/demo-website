(window.webpackJsonp=window.webpackJsonp||[]).push([[328],{1128:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r={owner:"owner",admin:"admin",editor:"editor"},o={active:"active",pending:"pending",expired:"expired"}},1721:function(e,t,n){e.exports={modal:"src-common-components-user-impersonation-index__modal--1QUVK",title:"src-common-components-user-impersonation-index__title--dslZF",content:"src-common-components-user-impersonation-index__content--35v_E",userListTitle:"src-common-components-user-impersonation-index__userListTitle--2Xg2O",userList:"src-common-components-user-impersonation-index__userList--38EbA",item:"src-common-components-user-impersonation-index__item--2759a",selected:"src-common-components-user-impersonation-index__selected--2TFR6",type:"src-common-components-user-impersonation-index__type--21LCD",check:"src-common-components-user-impersonation-index__check--1hdoV",avatars:"src-common-components-user-impersonation-index__avatars--1xSMu",footer:"src-common-components-user-impersonation-index__footer--2xBTY",button:"src-common-components-user-impersonation-index__button--1cOkG",impersonate:"src-common-components-user-impersonation-index__impersonate--1ki-F"}},2763:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=n(392),c=n(930),l=n(544),u=n(25),p=(n(848),n(850)),m=n.n(p),f=(n(88),n(166),n(61),n(167),n(301),n(302),n(303),n(349),n(287),n(288),n(279)),d=n.n(f),g=n(292),h=n(14),y=n(315);var b=n(280).a`
  query GET_CHANNEL_ORGANIZATION_MEMBERSHIPS($id: ID!) {
    memberships(id: $id)
      @rest(
        type: "ChannelOrganizationMembership"
        path: "/user_channel/:id/organization_memberships?fields=user,email,status,permission&status=active&limit=100"
      ) {
      list {
        email
        status
        permission
        user
      }
    }
  }
`,v=n(286),O=(n(62),n(24)),S=n.n(O),E=n(549),C=n(709);const x=(e,t)=>S()(e,e=>e.search.channels.edges.reduce((e,n)=>((e,t)=>{let{partner:n,nonNetwork:r}=e;return n&&!t.node.accountType.includes("partner")||r&&t.node.networkChannels&&t.node.networkChannels.edges.length})(t,n)?e:[...e,n.node.name],[]))||[],_=(e,t)=>n=>{const r=e.search.channels.edges.find(e=>e.node.name===n).node.xid;return t(r)},P=e=>{let{error:t,inputProps:n,autocompleteRef:r,data:o,requestSuggestions:a,handleSelectChannel:s,suggestedTextKey:c,clearOnSelect:l,rules:u,limit:p}=e;return i.a.createElement(E.a,{autocompleteRef:r,clearOnSelect:l,error:t,inputProps:n,isLoading:o&&o.loading,items:x(o,u),limit:p,onChange:a,onSelect:_(o,s),suggedtedTextKey:c})};P.propTypes={autocompleteRef:o.a.func,clearOnSelect:o.a.bool,data:o.a.shape(),error:o.a.string,handleSelectChannel:o.a.func.isRequired,inputProps:o.a.shape().isRequired,limit:o.a.number,requestSuggestions:o.a.func.isRequired,rules:o.a.shape({partner:o.a.bool,nonNetwork:o.a.bool}),suggestedTextKey:o.a.string},P.defaultProps={autocompleteRef:void 0,clearOnSelect:!1,data:void 0,error:void 0,limit:20,rules:{},suggestedTextKey:void 0};var w=Object(g.e)(C.a,{options:e=>({variables:{query:e.query},skip:!e.query})})(P),j=n(736),I=n(2),N=n(748),k=n(389),R=n(1128),T=(n(719),n(726)),M=n.n(T),L=(n(658),n(626)),A=n.n(L),q=n(1721),K=n.n(q),U=Object(h.d)({impersonationAutocompletePlaceholder:{id:"common.components.userImpersonation.impersonationAutocompletePlaceholder",defaultMessage:"Search by URL"},impersonate:{id:"common.components.userImpersonation.impersonate",defaultMessage:"Impersonate"},stopImpersonation:{id:"common.components.userImpersonation.stopImpersonation",defaultMessage:"Stop impersonating"},cancel:{id:"common.components.userImpersonation.cancel",defaultMessage:"Cancel"},notAPartner:{id:"common.components.userImpersonation.notAPartner",defaultMessage:"User is not a Partner"},impersonateDialogHeader:{id:"common.components.userImpersonation.impersonateDialogHeader",defaultMessage:"Impersonate a Partner"},stopImpersonationConfirm:{id:"common.components.userImpersonation.stopImpersonationConfirm",defaultMessage:"Stop impersonating this Channel?"}});function z(){return(z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e){let{title:t,children:n,className:r,onCancel:o,confirmText:a,confirm:s,intl:c,...l}=e;return i.a.createElement(M.a,z({className:d()(K.a.modal,r),closable:!1,footer:null,bodyStyle:{padding:0,backgroundColor:"var(--alabaster)"},onCancel:o},l),i.a.createElement("div",{className:K.a.title},t),i.a.createElement("div",{className:K.a.content},n," "),i.a.createElement("div",{className:K.a.footer},i.a.createElement(A.a,{className:K.a.button,onClick:o,key:"cancel"},c.formatMessage(U.cancel)),i.a.createElement(A.a,{className:d()(K.a.button,K.a.impersonate),onClick:()=>s(),key:"impersonate"},a)))}D.propTypes={title:o.a.string.isRequired,children:o.a.node.isRequired,className:o.a.string,onCancel:o.a.func.isRequired,confirmText:o.a.string.isRequired,confirm:o.a.func.isRequired,intl:h.f.isRequired},D.defaultProps={className:""};var F=Object(h.e)(D);let $;function H(e){let{intl:t,user:n,adminFormIsOpen:r,closeAdminForm:o,closeConfirmStopImpersonation:s,confirmStopIsOpen:l,getUserIdFromUsername:u,stopImpersonation:p}=e;const[f,h]=Object(a.useState)(null),[O,S]=Object(a.useState)(""),[E,C]=Object(a.useState)(""),[x,_]=Object(a.useState)("");if(Object(a.useEffect)(()=>{setTimeout(()=>$&&$.focus(),100)},[r]),!r&&!l)return null;const P=sessionStorage.getItem(I.o),T=P?JSON.parse(P):null,M=async()=>{const{id:e,partner:n}=await(!f&&O?u(O):Promise.resolve({id:E,partner:!0}));return e&&n?h(e):_(t.formatMessage(U.notAPartner))},L=()=>{h(null),S(""),C("")},A=()=>{L(),o()},q=()=>{const{pathname:e,search:t,hash:n}=window.location,r=e.match(/^\/partner\/\w+\/(.*)/);return`${r&&r.length>1?r[1]:""}${t}${n}`},z=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;try{return f?e?(await Object(c.j)(e,{id:n.id,avatar_240_url:n.avatar_240_url},f,q()),Object(v.d)(v.f.ADMIN_DIALOG_IMPERSONATE),A()):null:(await M(),null)}catch(e){if(e.res){const t=await e.res.json();_(t.error.message)}else _(e.message);return null}},D={autocompleteRef:e=>{null!==e&&({input:$}=e.refs)},error:x,handleSelectChannel:e=>{h(e),C("")},inputProps:{placeholder:t.formatMessage(U.impersonationAutocompletePlaceholder),onKeyUp:async e=>{let{keyCode:t}=e;t===N.a&&z()}},intl:t,query:O,requestSuggestions:(e,t)=>{_(""),S(t),h(null)},rules:{partner:!0}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(F,{title:t.formatMessage(U.impersonateDialogHeader),onCancel:A,confirmText:t.formatMessage(U.impersonate),confirm:z,visible:r,afterClose:L,footer:null},r&&i.a.createElement(w,D),f&&i.a.createElement(g.a,{client:y.a},i.a.createElement(g.c,{query:b,variables:{id:f},skip:!f,fetchPolicy:"network-only",onCompleted:e=>{if(E)return;const t=e.memberships.list?e.memberships.list:[],n=t.find(e=>{let{permission:t}=e;return t===R.a.owner}),r=n?n.user:f;C(r),t.length<2&&z(r)}},e=>{let{loading:t,error:n,data:r}=e;if(t||!r||!f)return null;if(n)return"Error! "+n;if(!r.memberships.list)return null;const o=(r.memberships.list?r.memberships.list:[]).filter(e=>{let{status:t}=e;return t===R.b.active}).sort((e,t)=>e.permission.localeCompare(t.permission)).reduce((e,t)=>t.permission===R.a.owner?[t,...e]:[...e,t],[]);return o.length<2?null:i.a.createElement(i.a.Fragment,null,i.a.createElement("h5",{className:K.a.userListTitle},"USERS"),i.a.createElement(m.a,{dataSource:o,itemLayout:"horizontal",className:K.a.userList,renderItem:e=>{let{user:t,email:n,permission:r}=e;return i.a.createElement(m.a.Item,{className:d()(K.a.item,{[K.a.selected]:t===E}),onClick:(o=t,()=>C(o))},i.a.createElement("span",null," ",n," "),i.a.createElement("span",{className:K.a.type},Object(k.c)(r),i.a.createElement(j.a,{className:K.a.check,height:"1em",width:"1em"})));var o}}))}))),i.a.createElement(F,{title:t.formatMessage(U.stopImpersonationConfirm),onCancel:s,confirmText:t.formatMessage(U.stopImpersonation),confirm:()=>p(q()),visible:l},i.a.createElement("div",{className:K.a.avatars},i.a.createElement("img",{alt:"avatar",className:K.a.avatar,height:"60",src:n.avatar_240_url,width:"60"}),T&&i.a.createElement("img",{alt:"avatar",className:K.a.originalAvatar,height:"60",src:T.avatar_240_url,width:"60"}))))}H.propTypes={adminFormIsOpen:o.a.bool.isRequired,closeAdminForm:o.a.func.isRequired,closeConfirmStopImpersonation:o.a.func.isRequired,confirmStopIsOpen:o.a.bool.isRequired,getUserIdFromUsername:o.a.func.isRequired,intl:h.f.isRequired,stopImpersonation:o.a.func.isRequired,user:o.a.shape({avatar_240_url:o.a.string,id:o.a.string}).isRequired};var W=Object(h.e)(H);const G={[N.d]:!1,[N.c]:!1,[N.e]:!1};class J extends i.a.Component{constructor(){super(),this.handlePageKeyUp=this.handlePageKeyUp.bind(this),this.handlePageKeyDown=this.handlePageKeyDown.bind(this)}componentWillMount(){document.addEventListener("keydown",this.handlePageKeyDown),document.addEventListener("keyup",this.handlePageKeyUp)}componentWillUnmount(){document.removeEventListener("keydown",this.handlePageKeyDown),document.removeEventListener("keyup",this.handlePageKeyUp)}handlePageKeyDown(e){e.keyCode in G&&(G[e.keyCode]=!0,G[N.d]&&G[N.c]&&G[N.e]&&(Object(u.c)()?this.props.openConfirmStopImpersonation():Object(l.b)(this.props.user)&&this.props.openAdminForm()))}handlePageKeyUp(e){e.keyCode in G&&(G[e.keyCode]=!1)}render(){return i.a.createElement(W,this.props)}}var B,V,Z;B=J,V="propTypes",Z={openAdminForm:o.a.func.isRequired,openConfirmStopImpersonation:o.a.func.isRequired,user:o.a.shape({}).isRequired},V in B?Object.defineProperty(B,V,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[V]=Z;t.default=Object(s.b)((function(e){const{admin:t}=e;return{adminFormIsOpen:t.get("adminFormIsOpen"),confirmStopIsOpen:t.get("confirmStopIsOpen")}}),(function(e){return{closeAdminForm:()=>Object(c.g)(e),closeConfirmStopImpersonation:()=>Object(c.h)(e),getUserIdFromUsername:e=>Object(c.i)(e),openAdminForm:()=>Object(c.k)(e),openConfirmStopImpersonation:()=>Object(c.l)(e),stopImpersonation:t=>Object(c.m)(e,t)}}))(J)},549:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));n(88);var r=n(279),o=n.n(r),a=n(0),i=n.n(a),s=n(1),c=n.n(s),l=n(698),u=n.n(l),p=n(289),m=n(550),f=n.n(m);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends s.Component{constructor(){var e;super(...arguments),e=this,g(this,"state",{value:""}),g(this,"handleClear",e=>{e.preventDefault(),this.setState({value:""}),"function"==typeof this.props.onChange&&this.props.onChange(e,"")}),g(this,"renderIcon",()=>{const{value:e}=this.state;return c.a.createElement(p.a,{type:e?"close":"search",width:16,height:16,fill:"var(--silver-chalice)"})}),g(this,"renderMenu",(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;const{isLoading:r,loadingText:o,noSuggestionsText:a}=e.props;let i;return r?i=c.a.createElement("div",{className:f.a.menuItem},o):0===t.length&&""!==n&&(i=c.a.createElement("div",{className:f.a.menuItem},a)),c.a.createElement("div",{className:f.a.menu},i,c.a.createElement("div",{style:{display:i?"none":"block"}},t))}))}render(){return c.a.createElement("div",{className:f.a.container},c.a.createElement(u.a,d({},this.props,{inputProps:{...this.props.inputProps,className:f.a.input},onChange:(e,t)=>{this.setState({value:t}),"function"==typeof this.props.onChange&&this.props.onChange(e,t)},getItemValue:e=>{const{suggestionTextKey:t}=this.props;let n=e;return t&&(n=e[t]),n},renderItem:e=>{const{suggestionTextKey:t}=this.props;let n=e;return t&&(n=e[t]),c.a.createElement("div",{key:e,className:f.a.menuItem},n)},renderMenu:(e,t)=>this.renderMenu(e,t),onSelect:e=>{this.setState({value:e}),"function"==typeof this.props.onSelect&&this.props.onSelect(e),this.props.clearOnSelect&&this.setState({value:""})},ref:this.props.autocompleteRef,value:this.state.value})),c.a.createElement("a",{href:"",className:f.a.icon,onClick:this.handleClear},this.renderIcon()),this.props.hint&&!this.props.error&&c.a.createElement("div",{className:f.a.inputHint},this.props.hint),this.props.error&&c.a.createElement("div",{className:o()(f.a.inputHint,f.a.inputError)},this.props.error))}}g(h,"propTypes",{autocompleteRef:i.a.func,clearOnSelect:i.a.bool,error:i.a.string,hint:i.a.string,inputProps:i.a.shape(),isLoading:i.a.bool,items:i.a.arrayOf(i.a.string),loadingText:i.a.string,noSuggestionsText:i.a.string,onChange:i.a.func,onSelect:i.a.func,suggestionTextKey:i.a.string}),g(h,"defaultProps",{autocompleteRef:()=>{},clearOnSelect:!1,error:"",hint:"",inputProps:{},isLoading:!1,items:[],loadingText:"Loading...",noSuggestionsText:"No results",onChange:()=>{},onSelect:()=>{},suggestionTextKey:""})},550:function(e,t,n){e.exports={inputHint:"src-common-components-autocomplete-index__inputHint--2jvC4",inputError:"src-common-components-autocomplete-index__inputError--1mtoI",container:"src-common-components-autocomplete-index__container--11l2U",autocomplete:"src-common-components-autocomplete-index__autocomplete--jzI5G",icon:"src-common-components-autocomplete-index__icon--2NLEa",input:"src-common-components-autocomplete-index__input--3ae9t",menu:"src-common-components-autocomplete-index__menu--U0Z9z",menuItem:"src-common-components-autocomplete-index__menuItem--S_JOR"}},709:function(e,t,n){"use strict";const r=n(280).a`
  query CHANNELS_SEARCH_QUERY(
    $query: String!
    $limit: Int = 10
    $accountType: AccountType
    $channelsOnly: Boolean! = false
  ) {
    search {
      channels(query: $query, first: $limit, accountType: $accountType) {
        edges {
          node {
            xid
            name
            accountType
            displayName
            logoURL(size: "x25")
            networkChannels(first: 1) @skip(if: $channelsOnly) {
              edges {
                node {
                  name
                }
              }
            }
          }
        }
      }
    }
  }
`;t.a=r},848:function(e,t,n){"use strict";n(332),n(849),n(731),n(959),n(453),n(773)},849:function(e,t,n){},850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(1)),o=d(n(0)),a=m(n(279)),i=m(n(370)),s=m(n(960)),c=n(311),l=m(n(454)),u=n(665),p=m(n(851));function m(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==g(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(m,e);var t,n,o,p=E(m);function m(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=p.call(this,e)).defaultPaginationProps={current:1,total:0},t.keys={},t.onPaginationChange=t.triggerPaginationEvent("onChange"),t.onPaginationShowSizeChange=t.triggerPaginationEvent("onShowSizeChange"),t.renderItem=function(e,n){var r,o=t.props,a=o.renderItem,i=o.rowKey;return a?((r="function"==typeof i?i(e):"string"==typeof i?e[i]:e.key)||(r="list-item-".concat(n)),t.keys[n]=r,a(e,n)):null},t.renderEmpty=function(e,n){var o=t.props.locale;return r.createElement("div",{className:"".concat(e,"-empty-text")},o&&o.emptyText||n("List"))},t.renderList=function(e){var n,o=e.getPrefixCls,c=e.renderEmpty,p=t.state,m=p.paginationCurrent,f=p.paginationSize,d=t.props,g=d.prefixCls,y=d.bordered,O=d.split,S=d.className,E=d.children,C=d.itemLayout,x=d.loadMore,P=d.pagination,w=d.grid,j=d.dataSource,I=void 0===j?[]:j,N=d.size,k=d.header,R=d.footer,T=d.loading,M=_(d,["prefixCls","bordered","split","className","children","itemLayout","loadMore","pagination","grid","dataSource","size","header","footer","loading"]),L=o("list",g),A=T;"boolean"==typeof A&&(A={spinning:A});var q=A&&A.spinning,K="";switch(N){case"large":K="lg";break;case"small":K="sm"}var U=(0,a.default)(L,S,(v(n={},"".concat(L,"-vertical"),"vertical"===C),v(n,"".concat(L,"-").concat(K),K),v(n,"".concat(L,"-split"),O),v(n,"".concat(L,"-bordered"),y),v(n,"".concat(L,"-loading"),q),v(n,"".concat(L,"-grid"),w),v(n,"".concat(L,"-something-after-last-item"),t.isSomethingAfterLastItem()),n)),z=b(b(b({},t.defaultPaginationProps),{total:I.length,current:m,pageSize:f}),P||{}),D=Math.ceil(z.total/z.pageSize);z.current>D&&(z.current=D);var F,$=P?r.createElement("div",{className:"".concat(L,"-pagination")},r.createElement(l.default,b({},z,{onChange:t.onPaginationChange,onShowSizeChange:t.onPaginationShowSizeChange}))):null,H=h(I);if(P&&I.length>(z.current-1)*z.pageSize&&(H=h(I).splice((z.current-1)*z.pageSize,z.pageSize)),F=q&&r.createElement("div",{style:{minHeight:53}}),H.length>0){var W=H.map((function(e,n){return t.renderItem(e,n)})),G=[];r.Children.forEach(W,(function(e,n){G.push(r.cloneElement(e,{key:t.keys[n]}))})),F=w?r.createElement(u.Row,{gutter:w.gutter},G):r.createElement("ul",{className:"".concat(L,"-items")},G)}else E||q||(F=t.renderEmpty(L,c));var J=z.position||"bottom";return r.createElement("div",b({className:U},(0,i.default)(M,["rowKey","renderItem","locale"])),("top"===J||"both"===J)&&$,k&&r.createElement("div",{className:"".concat(L,"-header")},k),r.createElement(s.default,A,F,E),R&&r.createElement("div",{className:"".concat(L,"-footer")},R),x||("bottom"===J||"both"===J)&&$)};var n=e.pagination,o=n&&"object"===g(n)?n:{};return t.state={paginationCurrent:o.defaultCurrent||1,paginationSize:o.defaultPageSize||10},t}return t=m,(n=[{key:"getChildContext",value:function(){return{grid:this.props.grid,itemLayout:this.props.itemLayout}}},{key:"triggerPaginationEvent",value:function(e){var t=this;return function(n,r){var o=t.props.pagination;t.setState({paginationCurrent:n,paginationSize:r}),o&&o[e]&&o[e](n,r)}}},{key:"isSomethingAfterLastItem",value:function(){var e=this.props,t=e.loadMore,n=e.pagination,r=e.footer;return!!(t||n||r)}},{key:"render",value:function(){return r.createElement(c.ConfigConsumer,null,this.renderList)}}])&&O(t.prototype,n),o&&O(t,o),m}(r.Component);t.default=P,P.Item=p.default,P.childContextTypes={grid:o.any,itemLayout:o.string},P.defaultProps={dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Meta=void 0;var r,o=p(n(1)),a=p(n(0)),i=(r=n(279))&&r.__esModule?r:{default:r},s=n(665),c=n(311),l=n(945);function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function p(e){if(e&&e.__esModule)return e;if(null===e||"object"!==m(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},E=function(e){return o.createElement(c.ConfigConsumer,null,(function(t){var n=t.getPrefixCls,r=e.prefixCls,a=e.className,s=e.avatar,c=e.title,l=e.description,u=S(e,["prefixCls","className","avatar","title","description"]),p=n("list",r),m=(0,i.default)("".concat(p,"-item-meta"),a),f=o.createElement("div",{className:"".concat(p,"-item-meta-content")},c&&o.createElement("h4",{className:"".concat(p,"-item-meta-title")},c),l&&o.createElement("div",{className:"".concat(p,"-item-meta-description")},l));return o.createElement("div",O({},u,{className:m}),s&&o.createElement("div",{className:"".concat(p,"-item-meta-avatar")},s),(c||l)&&f)}))};function C(e,t){return e[t]&&Math.floor(24/e[t])}t.Meta=E;var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,a=y(u);function u(){var e;return d(this,u),(e=a.apply(this,arguments)).renderItem=function(t){var n=t.getPrefixCls,r=e.context,a=r.grid,c=r.itemLayout,u=e.props,p=u.prefixCls,m=u.children,d=u.actions,g=u.extra,h=u.className,y=S(u,["prefixCls","children","actions","extra","className"]),b=n("list",p),v=d&&d.length>0&&o.createElement("ul",{className:"".concat(b,"-item-action"),key:"actions"},d.map((function(e,t){return o.createElement("li",{key:"".concat(b,"-item-action-").concat(t)},e,t!==d.length-1&&o.createElement("em",{className:"".concat(b,"-item-action-split")}))}))),E=a?"div":"li",x=o.createElement(E,O({},y,{className:(0,i.default)("".concat(b,"-item"),h,f({},"".concat(b,"-item-no-flex"),!e.isFlexMode()))}),"vertical"===c&&g?[o.createElement("div",{className:"".concat(b,"-item-main"),key:"content"},m,v),o.createElement("div",{className:"".concat(b,"-item-extra"),key:"extra"},g)]:[m,v,(0,l.cloneElement)(g,{key:"extra"})]);return a?o.createElement(s.Col,{span:C(a,"column"),xs:C(a,"xs"),sm:C(a,"sm"),md:C(a,"md"),lg:C(a,"lg"),xl:C(a,"xl"),xxl:C(a,"xxl")},x):x},e}return t=u,(n=[{key:"isItemContainsTextNodeAndNotSingular",value:function(){var e,t=this.props.children;return o.Children.forEach(t,(function(t){"string"==typeof t&&(e=!0)})),e&&o.Children.count(t)>1}},{key:"isFlexMode",value:function(){var e=this.props.extra;return"vertical"===this.context.itemLayout?!!e:!this.isItemContainsTextNodeAndNotSingular()}},{key:"render",value:function(){return o.createElement(c.ConfigConsumer,null,this.renderItem)}}])&&g(t.prototype,n),r&&g(t,r),u}(o.Component);t.default=x,x.Meta=E,x.contextTypes={grid:a.any,itemLayout:a.string}}}]);